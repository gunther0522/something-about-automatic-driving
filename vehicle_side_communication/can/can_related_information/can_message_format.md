# 前言

## CAN报文

CAN总线传输的信息称为报文，当总线空闲时任何连接的单元都可以发送新的报文

## CAN报文类型

CAN报文具有五种类型：`数据帧` `遥控帧` `错误帧` `过载帧` `帧间隔`

表1 帧的用途

|帧|帧用途|
|-|-|
|数据帧|用于发送单元向接收单元传送数据的帧|
|遥控帧|用于接收单元向具有相同ID的发送单元请求数据的帧|
|错误帧|用于当检测处错误时向其他单元通知错误的帧|
|过载帧|用于接收单元通知其尚未做好接收准备的帧|
|帧间隔|用于将数据帧及遥控帧与前面的帧分离开来的帧|

# 1. 数据帧

数据帧由七段构成：`帧起始(SOF)` `仲裁段` `控制段` `数据段` `CRC段` `ACK段` `帧结束(EOF)`

## 1.1 帧起始(SOF)

由一个显性位组成，总线空闲时，发送节点发送起始帧，其他接收节点同步该帧起始位

## 1.2 仲裁段

## 1.3 控制段

由6位组成，包括数据长度代码和两个将来作为扩展用的保留位

## 1.4 数据段

数据段由数据帧中的发送数据组成，是0~8个字节，每个字节包含8位，首先发送最高有效位MSB，依次发送至最低有效位LSB

## 1.5 CRC段

用于检查帧传输错误的帧，包括15个位的CRC序列和1个位的CRC界定符。

## 1.6 ACK段

用来确认是否正常接收，由ACK槽和ACK界定符2个位构成

## 1.7 帧结束(EOF)

由每一个数据帧和远程帧的标志序列界定的，这个标志序列由7个“隐性”位组成

# 2. 遥控帧


# 3. 错误帧

# 4. 过载帧

# 5. 帧间隔

# 参考文章

